version: '3.8'

services:
  ocserv:
    build: .
    container_name: ocserv
    ports:
      - "43443:443/tcp"
      - "43443:443/udp"
    cap_add:
      - NET_ADMIN
      - NET_RAW
    devices:
      - /dev/net/tun:/dev/net/tun
    volumes:
      # - ./config/ocserv.conf:/etc/ocserv/ocserv.conf #ocserv config
      # - ./cert:/etc/ocserv/cert #folder with certificate
    environment:
      - TZ=Europe/Moscow
      - SRV_CN=vpn.example.com
      - SRV_CA=OCSERV
    restart: unless-stopped
